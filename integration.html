<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Integration / API &mdash; DAVx⁵ DRAFT documentation</title><link rel="stylesheet" href="_static/css/davx5.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="canonical" href="https://www.davx5.com/manual/integration.html"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Managed DAVx⁵" href="managed_davx5.html" />
    <link rel="prev" title="Technical information" href="technical_information.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> DAVx⁵
          </a>
              <div class="version">
                DRAFT
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="accounts_collections.html">Accounts and Collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="webdav_mounts.html">WebDAV Mounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings.html">Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="technical_information.html">Technical information</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Integration / API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#launching-the-davx5-login-screen">Launching the DAVx⁵ login screen</a></li>
<li class="toctree-l2"><a class="reference internal" href="#extended-event-properties">Extended event properties</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#url">URL</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="managed_davx5.html">Managed DAVx⁵</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DAVx⁵</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Integration / API</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/bitfireAT/davx5-manual/blob/main/integration.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="integration-api">
<h1>Integration / API<a class="headerlink" href="#integration-api" title="Permalink to this headline">¶</a></h1>
<p>This section is about other apps can interact with DAVx⁵.</p>
<div class="section" id="launching-the-davx5-login-screen">
<h2>Launching the DAVx⁵ login screen<a class="headerlink" href="#launching-the-davx5-login-screen" title="Permalink to this headline">¶</a></h2>
<p>You can use an explicit Intent to launch the DAVx⁵ login screen with pre-filled credentials:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">val</span> <span class="n">intent</span> <span class="o">=</span> <span class="n">Intent</span><span class="p">()</span>
<span class="n">intent</span><span class="o">.</span><span class="n">setClassName</span><span class="p">(</span><span class="s2">&quot;at.bitfire.davdroid&quot;</span><span class="p">,</span> <span class="s2">&quot;at.bitfire.davdroid.ui.setup.LoginActivity&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Always use an explicit intent with hardcoded package name for security reasons. Keep
in mind that an attacker could trick users into installing a malicious app with the same package
name (when third-party app sources are allowed).</p>
</div>
<p>You can set URL, username and password as extras. All of those are optional.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 12%" />
<col style="width: 69%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>extra name</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>url</p></td>
<td><p>String</p></td>
<td><p>CalDAV/CardDAV base URL</p></td>
</tr>
<tr class="row-odd"><td><p>username</p></td>
<td><p>String</p></td>
<td><p>pre-filled username</p></td>
</tr>
<tr class="row-even"><td><p>password</p></td>
<td><p>String</p></td>
<td><p>pre-filled password (usage not recommended)</p></td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.6: </span>Alternatively, you can use the <a class="reference external" href="https://docs.nextcloud.com/server/latest/developer_manual/client_apis/LoginFlow/index.html">Nextcloud Login Flow</a> method:</p>
</div>
<p>Intent data (URI): login flow entry point (<code class="docutils literal notranslate"><span class="pre">&lt;server&gt;/index.php/login/flow</span></code>). Intent extras (*… optional):</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 9%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>extra name</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>loginFlow</p></td>
<td><p>Int</p></td>
<td><p>set to 1 to indicate Login Flow</p></td>
</tr>
<tr class="row-odd"><td><p>davPath</p></td>
<td><p>String*</p></td>
<td><p>CalDAV/CardDAV base URL; will be appended to server URL returned by Login
Flow without further processing (e.g. <code class="docutils literal notranslate"><span class="pre">/remote.php/dav</span></code>)</p></td>
</tr>
</tbody>
</table>
<p>For compatibility with old DAVx⁵ versions, you can use both methods at the same time. Old DAVx⁵ versions will
use the <code class="docutils literal notranslate"><span class="pre">url</span></code>, <code class="docutils literal notranslate"><span class="pre">username</span></code>, <code class="docutils literal notranslate"><span class="pre">password</span></code> extras, while new versions will see the <code class="docutils literal notranslate"><span class="pre">loginFlow</span></code>
extra and switch to the Login Flow method.</p>
</div>
<div class="section" id="extended-event-properties">
<span id="id1"></span><h2>Extended event properties<a class="headerlink" href="#extended-event-properties" title="Permalink to this headline">¶</a></h2>
<p>There are iCalendar properties which are not covered by the <a class="reference external" href="https://developer.android.com/guide/topics/providers/calendar-provider">Android Calendar provider</a>,
like the <code class="docutils literal notranslate"><span class="pre">URL</span></code> of an event and attachments. DAVx⁵ and calendar apps can’t exchange such properties in a
standardized way, so editing/viewing these properties in calendar apps and synchronizing them won’t work.</p>
<p>To overcome these limitations, it’s necessary to agree on a common format for these properties. The following
formats are designed for interaction with calendar apps. We hope that calendar apps start to accept
these formats in order to allow users to get even better CalDAV integration on Android.</p>
<p>Currently only <code class="docutils literal notranslate"><span class="pre">URL</span></code> is supported.</p>
<div class="section" id="url">
<h3>URL<a class="headerlink" href="#url" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.3.10.</span></p>
</div>
<p><a class="reference external" href="https://developer.android.com/reference/kotlin/android/provider/CalendarContract.ExtendedProperties">Extended property</a> with those fields:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NAME</span></code> = <code class="docutils literal notranslate"><span class="pre">vnd.android.cursor.item/vnd.ical4android.url</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VALUE</span></code> = the <a class="reference external" href="https://tools.ietf.org/html/rfc5545#section-3.8.4.6">iCalendar URL</a> (e.g. <code class="docutils literal notranslate"><span class="pre">https://example.com</span></code>)</p></li>
</ul>
</div></blockquote>
<p>Calendar apps that are known to support this property:</p>
<blockquote>
<div><ul class="simple">
<li><p>aCalendar+ (since 2.5)</p></li>
</ul>
</div></blockquote>
<p>See also <a class="reference external" href="https://bitfireat.gitlab.io/ical4android/dokka/ical4android/at.bitfire.ical4android/-android-event/-m-i-m-e-t-y-p-e_-u-r-l.html">KDoc</a>.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="technical_information.html" class="btn btn-neutral float-left" title="Technical information" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="managed_davx5.html" class="btn btn-neutral float-right" title="Managed DAVx⁵" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright contributors. This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License.
      <span class="lastupdated">Last updated on Nov 19, 2021.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>